1. 题目：编译原理之域（Scope）

2. 域（Scope）的理解

```java
public class Hello {

    private String greet = "Hello";

    public static void main (String[] args) {
        int sum = 0;
        for (int i = 1; i <= 100; i++) {
            sum += i;
        }
    }

    public void hello (String name) {
        System.out.println(greet + "," + name);
    }
}
```

```mermaid
graph TB;
subgraph "Scope(class)"
    S1 -.-> greet
        subgraph "Scope(func main)"
        S2("main")
        S2 -.-> args
        S2 -.-> sum
            subgraph "Scope(for)"
            S3("for")
            S3 -.-> i
            end
        end
        S1("Hello")
        subgraph "Scope(func hello)"
            S4("hello")
            S4 -.-> name
        end
        S1 -.-> S4
    end
S1 --> S2 --> S3
```

+ 相邻的Scope没有访问权限
+ 子Scope可以逐级向上访问所有父Scope

3. 栈在域（Scope）中的应用

```c
typedef struct scope_t {
    // 父级Scope
    struct scope_t *parent;
    // 变量表
    struct vector *variables;
    ...
} scope;
```

```mermaid
graph LR;
for -- "parent" --> main -- "parent" --> Hello
```

```mermaid
graph LR;
greet -- "parent" --> Hello
```